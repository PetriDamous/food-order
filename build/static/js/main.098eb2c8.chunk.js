(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,function(t,e,n){t.exports={form:"checkout_form__3wYhH",control:"checkout_control__1_KJV",actions:"checkout_actions__2W2PG",submit:"checkout_submit__1dDk6",invalid:"checkout_invalid__3UGst"}},function(t,e,n){t.exports={"cart-items":"cart_cart-items__1dwQx",total:"cart_total__3hFuN",actions:"cart_actions__2ea3q","button--alt":"cart_button--alt__3frl8",button:"cart_button__FpAK_"}},function(t,e,n){t.exports={"cart-item":"CartItem_cart-item__1fMSk",summary:"CartItem_summary__3FTle",price:"CartItem_price__2m9SY",amount:"CartItem_amount__CcIQo",actions:"CartItem_actions__3g2G9"}},,,function(t,e,n){t.exports={button:"cart-button_button__yk83r",icon:"cart-button_icon__15uHa",badge:"cart-button_badge__1ZNA0",bump:"cart-button_bump__1y-J_"}},,,function(t,e,n){t.exports={meal:"meal-item_meal__1_x55",description:"meal-item_description__1AJcG",price:"meal-item_price__30G3z"}},function(t,e,n){t.exports={backdrop:"modal_backdrop__3tJ3X",modal:"modal_modal__2XgbO","slide-down":"modal_slide-down__1o7IE"}},function(t,e,n){t.exports={"data-submit":"data-submit_data-submit__3S6ej",actions:"data-submit_actions__2KArf",cancel:"data-submit_cancel__3Qiv3"}},,function(t,e,n){t.exports={header:"header_header__9MezF","main-image":"header_main-image__3ol6X"}},,function(t,e,n){t.exports={form:"meal-item-form_form__17YnG",input:"meal-item-form_input__ehChv"}},function(t,e,n){t.exports={summary:"meals-summary_summary__18NLv"}},,function(t,e,n){t.exports={meals:"available-meals_meals__3tBS7","meals-appear":"available-meals_meals-appear__2gKLc"}},function(t,e,n){t.exports={card:"card_card__3oiaD"}},,,,,,function(t,e,n){},,,,function(t,e,n){t.exports={input:"input_input__3piz_"}},function(t,e,n){"use strict";n.r(e);var a=n(7),c=n.n(a),r=(n(28),n(2)),i=n(1),o=n.n(i),s=n(3),u=o.a.createContext({cartItems:[],totalQuantity:0,addItem:function(t){},removeItem:function(t){},incrementQuantity:function(t){},decrementQuantity:function(t){}}),l=n(23),d=function(t){return t.reduce((function(t,e){return t+e.price*e.amount}),0)},j=function(t,e){return t.map((function(t){return t.id===e.compare?("increase"===e.operation&&(t.amount+=e.amount),"decrease"===e.operation&&(t.amount-=e.amount),t):t}))},m=function(t){return t.reduce((function(t,e){return t+e.amount}),0)},b={cartItems:[],totalPrice:0,totalQuantity:0},h=function(t,e){var n=t.cartItems;switch(e.type){case"ADD_ITEM":var a=n.find((function(t){return t.id===e.payload.id})),c=[];a&&(c=j(n,{operation:"increase",compare:a.id,amount:e.payload.amount})),a||(c=[e.payload].concat(Object(l.a)(n)));var r=d(c),i=m(c);return Object(s.a)(Object(s.a)({},t),{},{cartItems:c,totalQuantity:i,totalPrice:r});case"REMOVE_ITEM":var o=e.payload,u=n.filter((function(t){return t.id!==o}));return Object(s.a)(Object(s.a)({},t),{},{cartItems:u});case"INCREMENT_ITEM":var b=n.find((function(t){return t.id===e.payload})),h=j(n,{operation:"increase",compare:b.id,amount:1}),O=d(h),f=m(h);return Object(s.a)(Object(s.a)({},t),{},{cartItems:h,totalQuantity:f,totalPrice:O});case"DECREMENT_ITEM":console.log(e.payload);var p=j(n,{operation:"decrease",compare:e.payload,amount:1}),x=d(p),_=m(p);return Object(s.a)(Object(s.a)({},t),{},{cartItems:p,totalQuantity:_,totalPrice:x});default:return t}},O=n(0),f=function(t){var e=Object(i.useReducer)(h,b),n=Object(r.a)(e,2),a=n[0],c=n[1],o=Object(s.a)(Object(s.a)({},a),{},{addItem:function(t){return c({type:"ADD_ITEM",payload:t})},removeItem:function(t){return c({type:"REMOVE_ITEM",payload:t})},incrementQuantity:function(t){return c({type:"INCREMENT_ITEM",payload:t})},decrementQuantity:function(t){return c({type:"DECREMENT_ITEM",payload:t})}});return Object(O.jsx)(u.Provider,{value:o,children:t.children})},p=n(16),x=n.n(p),_=n.p+"static/media/meals.2971f633.jpg",v=(n(30),n(9)),y=n.n(v),C=!0,g=function(t){var e=t.handleShowCart,n=Object(i.useState)(!1),a=Object(r.a)(n,2),c=a[0],o=a[1],s=Object(i.useContext)(u),l=s.cartItems,d=s.totalQuantity;Object(i.useEffect)((function(){if(!C){o(!0);var t=setTimeout((function(){o(!1)}),300);return function(){return clearTimeout(t)}}C=!1}),[l]);var j="".concat(y.a.button," ").concat(c&&y.a.bump);return Object(O.jsxs)("button",{className:j,onClick:e,children:[Object(O.jsx)("span",{className:y.a.icon,children:Object(O.jsx)("i",{class:"ri-shopping-cart-line"})}),Object(O.jsx)("span",{children:"Your Cart"}),Object(O.jsx)("span",{className:y.a.badge,children:d})]})},N=function(t){var e=t.handleShowCart;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("header",{className:x.a.header,children:[Object(O.jsx)("h1",{children:"Junk Meals"}),Object(O.jsx)(g,{handleShowCart:e})]}),Object(O.jsx)("div",{className:x.a["main-image"],children:Object(O.jsx)("img",{src:_,alt:"A table full of food."})})]})},I=n(19),S=n.n(I),E=function(){return Object(O.jsxs)("section",{className:S.a.summary,children:[Object(O.jsx)("h2",{children:"Delicious Food, Delivered To You"}),Object(O.jsx)("p",{children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(O.jsx)("p",{children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]})},k=n(11),w=n(17),T=n.n(w),M=n(20),D=n(21),Q=n.n(D),F=n(22),A=n.n(F),H=function(t){var e=t.children;return Object(O.jsx)("div",{className:A.a.card,children:e})},R=n(12),P=n.n(R),V=n(18),B=n.n(V),J=(n(32),o.a.forwardRef((function(t,e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("label",{htmlFor:t.input.id,children:t.input.label}),Object(O.jsx)("input",Object(s.a)({ref:e},t.input))]})}))),G=function(t){var e=t.children,n=t.classValue,a=void 0===n?null:n,c=t.button,r=void 0===c?null:c;return Object(O.jsx)("button",Object(s.a)(Object(s.a)({className:a},r),{},{children:e}))},Y=function(t){var e=Object(i.useState)(!0),n=Object(r.a)(e,2),a=n[0],c=n[1],o=Object(i.useRef)();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("form",{className:B.a.form,onSubmit:function(e){e.preventDefault();var n=o.current.value,a=+n;0===n.trim().length||a<1||a>5?c(!1):t.addItem(a)},children:[Object(O.jsx)("div",{className:B.a.input,children:Object(O.jsx)(J,{ref:o,input:{id:"amount-".concat(t.id),type:"number",min:"0",max:"5",defaultValue:"0",step:"1"}})}),Object(O.jsx)(G,{children:"+ Add"}),!a&&Object(O.jsx)("p",{children:"Please enter correct amount."})]})})},z=function(t){var e=Object(i.useContext)(u).addItem,n="$".concat(t.price.toFixed(2));return Object(O.jsxs)("li",{className:P.a.meal,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:t.name}),Object(O.jsx)("div",{className:P.a.description,children:t.description}),Object(O.jsx)("div",{className:P.a.price,children:n})]}),Object(O.jsx)("div",{children:Object(O.jsx)(Y,{id:t.id,addItem:function(n){console.log(t.id),e({id:t.id,name:t.name,price:t.price,amount:n})}})})]})},K=["id"],L=function(){var t=Object(i.useState)([]),e=Object(r.a)(t,2),n=e[0],a=e[1],c=Object(i.useState)(null),o=Object(r.a)(c,2),u=o[0],l=o[1],d=Object(i.useState)(!0),j=Object(r.a)(d,2),m=j[0],b=j[1];Object(i.useEffect)((function(){var t=function(){var t=Object(M.a)(T.a.mark((function t(){var e,n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://food-order-context-default-rtdb.firebaseio.com/meals.json");case 2:if((e=t.sent).ok){t.next=5;break}throw new Error("Shit got fucked up.");case 5:return t.next=7,e.json();case 7:n=t.sent,a(n),b(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().catch((function(t){l(t.message),b(!1)}))}),[]);var h=Object(O.jsx)("p",{children:"Data not loaded"});return m&&(h=Object(O.jsx)("p",{children:"Loading data...."})),u&&(h=Object(O.jsx)("p",{children:u})),n.length>0&&(h=Object(O.jsx)("ul",{children:n.map((function(t){var e=t.id,n=Object(k.a)(t,K);return Object(O.jsx)(z,Object(s.a)({id:e},n),e)}))})),Object(O.jsx)("div",{className:Q.a.meals,children:Object(O.jsx)(H,{children:h})})},X=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(E,{}),Object(O.jsx)(L,{})]})},q=n(5),Z=n.n(q),$=n(13),U=n.n($),W=document.getElementById("overlay"),tt=function(t){return Object(O.jsx)("div",{className:U.a.backdrop,onClick:t.handleHideCart})},et=function(t){return Object(O.jsx)("div",{className:U.a.modal,children:Object(O.jsx)("div",{className:U.a.content,children:t.children})})},nt=function(t){return Object(O.jsxs)(O.Fragment,{children:[c.a.createPortal(Object(O.jsx)(tt,{handleHideCart:t.handleHideCart}),W),c.a.createPortal(Object(O.jsx)(et,{children:t.children}),W)]})},at=n(6),ct=n.n(at),rt=function(t){var e="$".concat(t.price.toFixed(2));return Object(O.jsxs)("li",{className:ct.a["cart-item"],children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:t.name}),Object(O.jsxs)("div",{className:ct.a.summary,children:[Object(O.jsx)("span",{className:ct.a.price,children:e}),Object(O.jsxs)("span",{className:ct.a.amount,children:["x ",t.amount]})]})]}),Object(O.jsxs)("div",{className:ct.a.actions,children:[Object(O.jsx)("button",{onClick:t.onRemove.bind(null,t.id,t.amount),children:"\u2212"}),Object(O.jsx)("button",{onClick:t.onAdd.bind(null,t.id),children:"+"})]})]})},it=["id"],ot=function(t){var e=t.handleHideCart,n=t.handleShowCheckout,a=o.a.useContext(u),c="".concat(a.totalPrice.toFixed(2)),r=a.cartItems.length>0,i=function(t){return a.incrementQuantity(t)},l=function(t,e){e<=1&&a.removeItem(t),a.decrementQuantity(t)},d=Object(O.jsx)("ul",{children:a.cartItems.map((function(t){var e=t.id,n=Object(k.a)(t,it);return Object(O.jsx)("li",{className:Z.a["cart-items"],children:Object(O.jsx)(rt,Object(s.a)({id:e,onAdd:i,onRemove:l},n),e)})}))});return Object(O.jsxs)(nt,{handleHideCart:e,children:[d,Object(O.jsxs)("div",{className:Z.a.total,children:[Object(O.jsx)("span",{children:"Total Amount"}),Object(O.jsx)("span",{children:c})]}),Object(O.jsxs)("div",{className:Z.a.actions,children:[Object(O.jsx)(G,{classValue:Z.a["button--alt"],button:{onClick:e},children:"Close"}),r&&Object(O.jsx)(G,{classValue:Z.a.button,button:{onClick:function(){n(),e()}},children:"Order"})]})]})},st=function(t){var e=Object(i.useState)(""),n=Object(r.a)(e,2),a=n[0],c=n[1],o=Object(i.useState)(!1),s=Object(r.a)(o,2),u=s[0],l=s[1],d=t(a);return[a,d,!d&&u,function(t){c(t.target.value)},function(){l(!0)},function(){l(!1),c("")}]},ut=n(4),lt=n.n(ut),dt=function(t){return""!==t.trim()},jt=function(t){return!(!dt(t)||t.length<5||isNaN(t))},mt=function(t){var e=t.handleHideCheckout,n=st(dt),a=Object(r.a)(n,6),c=a[0],i=a[1],o=a[2],u=a[3],l=a[4],d=a[5],j=st(dt),m=Object(r.a)(j,6),b=m[0],h=m[1],f=m[2],p=m[3],x=m[4],_=m[5],v=st(jt),y=Object(r.a)(v,6),C=y[0],g=y[1],N=y[2],I=y[3],S=y[4],E=y[5],k=st(dt),w=Object(r.a)(k,6),T=w[0],M=w[1],D=w[2],Q=w[3],F=w[4],A=w[5],H=[i,h,g,M],R=[{inputSettings:{id:"name",label:"Name",type:"text",onChange:u,onBlur:l,value:c},inputError:"".concat(o&&lt.a.invalid)},{inputSettings:{id:"street",label:"Street",type:"text",onChange:p,onBlur:x,value:b},inputError:"".concat(f&&lt.a.invalid)},{inputSettings:{id:"zip",label:"Zip",type:"text",onChange:I,onBlur:S,value:C},inputError:"".concat(N&&lt.a.invalid)},{inputSettings:{id:"city",label:"City",type:"text",onChange:Q,onBlur:F,value:T},inputError:"".concat(D&&lt.a.invalid)}],P=H.every((function(t){return!0===t}));return Object(O.jsx)(nt,{children:Object(O.jsxs)("form",{className:lt.a.form,onSubmit:function(t){t.preventDefault(),P&&(d(),_(),E(),A())},children:[R.map((function(t){var e=t.inputSettings,n=t.inputError;return Object(O.jsx)("div",{className:"".concat(lt.a.control," ").concat(n),children:Object(O.jsx)(J,{input:Object(s.a)({},e)})})})),Object(O.jsxs)("div",{className:lt.a.actions,children:[Object(O.jsx)(G,{button:{onClick:e},children:"Cancel"}),Object(O.jsx)(G,{classValue:lt.a.submit,children:"Submit"})]})]})})},bt=n(14),ht=n.n(bt),Ot=function(t){var e=t.handleHideDataSubmit,n=Object(i.useState)("Submitting order...."),a=Object(r.a)(n,2),c=a[0],o=a[1];Object(i.useContext)(u);return Object(i.useEffect)((function(){var t=setTimeout((function(){o("Order submitted.")}),5e3);return function(){return clearTimeout(t)}}),[]),Object(O.jsx)(nt,{children:Object(O.jsxs)("div",{className:ht.a["data-submit"],children:[Object(O.jsx)("p",{children:c}),Object(O.jsx)("div",{className:ht.a.actions,children:Object(O.jsx)(G,{classValue:ht.a.cancel,button:{onClick:e},children:"Back to cart"})})]})})};var ft=function(){var t=Object(i.useState)(!1),e=Object(r.a)(t,2),n=e[0],a=e[1],c=Object(i.useState)(!1),o=Object(r.a)(c,2),s=o[0],u=o[1],l=Object(i.useState)(!1),d=Object(r.a)(l,2),j=d[0],m=d[1];return Object(O.jsxs)(f,{children:[n&&Object(O.jsx)(ot,{handleHideCart:function(){return a(!1)},handleShowCheckout:function(){return u(!0)}}),s&&Object(O.jsx)(mt,{handleHideCheckout:function(){return u(!1)},handleShowDataSubmit:function(){return m(!0)}}),j&&Object(O.jsx)(Ot,{handleHideDataSubmit:function(){return m(!1)}}),Object(O.jsx)(N,{handleShowCart:function(){return a(!0)}}),Object(O.jsx)("main",{children:Object(O.jsx)(X,{})})]})};c.a.render(Object(O.jsx)(ft,{}),document.getElementById("root"))}],[[33,1,2]]]);
//# sourceMappingURL=main.098eb2c8.chunk.js.map